#! /bin/sh

firebot () {
    read cmd args
    case $cmd in
        calc)
            printf "%s = " "$args"
            echo "$args" | bc -l
            ;;
        units)
            src=$(printf "%s" "$args" | sed 's/ ->.*//')
            dst=$(printf "%s" "$args" | sed 's/.*-> //')
            units -1 -v -- "$src" "$dst"
            ;;
        *)
            exit 1
            ;;
    esac
}

echo "$1" | firebot



